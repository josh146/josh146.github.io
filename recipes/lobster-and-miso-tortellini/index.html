<!DOCTYPE html>
<html lang="en">

<head>

  <title>Lobster and miso tortellini recipe | josh iza.ac</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Josh Izaac">
  <meta name="description" content="This recipe is another attempt to recreate a winning recipe from MasterChef Australia (after the Brioche doughnuts with orange curd and latte ice cream attempt). This recipe is from Amira Elshafei, and it took me a while to perfect it as there is an unfortunate series of...
">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
  <link rel="manifest" href="/images/favicon/site.webmanifest">
  <link rel="mask-icon" href="/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/images/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="/images/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <!-- Facebook Meta Tags -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Lobster and miso tortellini recipe | josh iza.ac">
  <meta property="og:url" content=" recipes/lobster-and-miso-tortellini/ ">
  <meta property="og:description" content="This recipe is another attempt to recreate a winning recipe from MasterChef Australia (after the Brioche doughnuts with orange curd and latte ice cream attempt). This recipe is from Amira Elshafei, and it took me a while to perfect it as there is an unfortunate series of...
">
  <meta property="og:image" content="/images/recipes/lobster-miso-tortellini.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="../..">
  <meta property="twitter:url" content=" recipes/lobster-and-miso-tortellini/ ">
  <meta name="twitter:title" content="Lobster and miso tortellini recipe | josh iza.ac">
  <meta name="twitter:description" content="This recipe is another attempt to recreate a winning recipe from MasterChef Australia (after the Brioche doughnuts with orange curd and latte ice cream attempt). This recipe is from Amira Elshafei, and it took me a while to perfect it as there is an unfortunate series of...
">
  <meta name="twitter:image" content="/images/recipes/lobster-miso-tortellini.jpg">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="../../theme/css/font.css" type="text/css" media="all">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <link rel="stylesheet" href="../../theme/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../theme/css/recipe_gallery.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../theme/css/pygments.css" type="text/css" media="all">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js"></script>

  <script type="module" src="https://unpkg.com/ninja-keys?module"></script>


<script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="../../theme/js/functions.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=DM+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Syne+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <link href="http://iza.ac/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="josh iza.ac Full Atom Feed" />

      <meta name="keywords" content="keywords, pytorch, quantum, gradients, tensorflow">

    <link rel="stylesheet" href="../../theme/css/recipe.css">
    <script type="application/ld+json">
        {
          "@context": "https://schema.org/",
          "@type": "Recipe",
          "name": "Lobster and miso tortellini",
          "image": [
            "../..//images/recipes/lobster-miso-tortellini.jpg"
          ],
          "author": {
            "@type": "Person",
            "name": "Josh Izaac"
          },
          "datePublished": "2026-01-04 00:00:00+08:00",
          "description": "This recipe is another attempt to recreate a winning recipe from MasterChef Australia (after the Brioche doughnuts with orange curd and latte ice cream...",

          "totalTime": "PT2H",

          "recipeYield": "4 servings servings",

          "recipeIngredient": [
            "12 (120g) shiitake mushrooms",
            "1/4 tsp fine salt",
            "240g lobster meat (approx. from 1 large or 3 small tails; reserve shells for bisque)",
            "6 fresh shiitake mushrooms (finely diced)",
            "2 tbsp yellow zucchini (finely diced)",
            "1 clove garlic (grated)",
            "1 tbsp butter",
            "1/2 tsp salt",
            "1/2 tsp ground black pepper",
            "1 egg (whisked)",
            "Reserved lobster shells (chopped)",
            "1 tbsp brown rice miso",
            "6 fresh shiitake mushrooms (halved)",
            "1 clove garlic, crushed",
            "1 tbsp olive oil",
            "1 tsp white sugar",
            "500ml water (enough to cover shells)",
            "2 tbsp (30ml) pure cream",
            "½ tbsp (10g) unsalted butter",
            "Salt and pepper to taste",
            "400g yellow zucchini, sliced into 1cm rounds",
            "25g unsalted butter",
            "1 tsp olive oil",
            "Small fresh basil leaves, to garnish",
            "250ml olive oil",
            "1 bunch fresh chives (roughly chopped)",
            "1 clove garlic (thinly sliced)"
          ],

          "recipeInstructions": [
            {
              "@type": "HowToStep",
              "text": "Preheat the oven to 120ºC. Thinly slice the shiitake mushrooms and place them in a single layer
on a baking tray lined with baking paper."
            },
            {
              "@type": "HowToStep",
              "text": "Bake for 45 minutes or until dried and crisp (but not burnt). Cool completely, then blitz in a
spice grinder to a fine powder. Mix with 1/4 tsp salt, and set aside."
            },
            {
              "@type": "HowToStep",
              "text": "Place the oil and garlic in a small saucepan over low heat. Heat until the garlic just begins to turn a pale golden color (do not brown it, or it will taste bitter). Remove from heat and let it cool for 5 minutes."
            },
            {
              "@type": "HowToStep",
              "text": "Place the oil (discarding the garlic slices) and the fresh chives into a high-speed blender. Blitz on high for 1–2 minutes until the oil is a vibrant, deep green."
            },
            {
              "@type": "HowToStep",
              "text": "Strain through a coffee filter or a fine-mesh sieve lined with muslin cloth."
            },
            {
              "@type": "HowToStep",
              "text": "Chop the lobster meat into small 1 cm cubes, keeping the shells for the bisque."
            },
            {
              "@type": "HowToStep",
              "text": "Heat a frying pan over medium heat. Add the butter, and once foaming, add the diced mushrooms,
diced zucchini, garlic, salt, and pepper. Cook for 3 minutes. Add the lobster meat and cook for 1–2
minutes until just cooked through. Transfer to a plate to cool to room temperature."
            },
            {
              "@type": "HowToStep",
              "text": "Once cool, drain any excess liquid from the mixture so the pasta doesn’t get soggy. Stir in half
of the whisked egg to bind the mixture."
            },
            {
              "@type": "HowToStep",
              "text": "Heat olive oil in a deep frying pan or pot over medium heat. Add the lobster shells and garlic;
cook until the shells turn bright red. Add the halved mushrooms and fry until golden (approx. 2
minutes). Add the miso paste and sugar; fry briefly until the miso softens."
            },
            {
              "@type": "HowToStep",
              "text": "Add the water until the shells are just covered, and bring to a boil. Reduce heat to low, cover,
and simmer for 15 minutes to infuse the flavors."
            },
            {
              "@type": "HowToStep",
              "text": "Strain the liquid through a fine sieve into a clean saucepan (discard solids). Add the cream and
butter to the strained bisque, whisk to combine, and season with salt and pepper. Keep warm."
            },
            {
              "@type": "HowToStep",
              "text": "Divide the rested dough into 4 portions (keep covered while working). Roll one portion through a
pasta machine until it is roughly 1–2mm thick."
            },
            {
              "@type": "HowToStep",
              "text": "Use a 10cm round cutter to cut out circles (aim for 8 per sheet). Brush the edge of each
circle with the remaining whisked egg, and place a heaped teaspoon of filling in the center. Fold
over to create a half-moon, pressing edges to seal tightly (ensure no air is trapped). Bring the
two corners together around your finger and pinch to form the tortellini shape."
            },
            {
              "@type": "HowToStep",
              "text": "For the zucchini: In a pan, heat the butter and olive oil. Add the zucchini rounds and cook until tender and slightly golden. Season with salt."
            },
            {
              "@type": "HowToStep",
              "text": "For the pasta: Bring a large pot of salted water to a boil. Cook the tortellini for about 3 minutes (until they float and are al dente). Drain gently."
            },
            {
              "@type": "HowToStep",
              "text": "To plate: Place the buttered zucchini rounds in the bowl. Top with the tortellini. Pour the warm miso bisque over the pasta. Garnish with fresh basil, drops of the garlic and chive oil, and a dusting of the Shiitake Salt."
            }
          ]
        }
    </script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-308113-3', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body class="home blog">
  <div>
    <header class="site-header">
      <nav class="navbar navbar-expand-lg navbar-default" role="navigation">
        <div class="container">
          <div class="row" style="width: 100%;">
            <div class="site-navigation-inner col-sm-12">
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="social fas fa-ellipsis-v"></i>
              </button>

              <div class="collapse navbar-collapse navbar-ex1-collapse" id="navbarSupportedContent" style="float: left;">
                <ul id="menu-all-pages" class="nav navbar-nav mr-auto" style="padding: 20px;">
                  <li class="menu-item"><a href="/" >Home

<i class=" fa-lg" style=""></i></a></li>
                  <li class="menu-item"><a href="/about" >About

<i class=" fa-lg" style=""></i></a></li>
                  <li class="menu-item"><a href="/cv" >CV

<i class=" fa-lg" style=""></i></a></li>
                  <li class="menu-item"><a href="/recipes" >recipes

<i class=" fa-lg" style=""></i></a></li>
                  <li class="menu-item"><a href="/posts" >posts

<i class=" fa-lg" style=""></i></a></li>
                </ul>
              </div>
              <div class="social">
                <a href="https://scholar.google.com/citations?user=pEj09c4AAAAJ" title="Google Scholar" >

<i class="ai ai-google-scholar fa-lg" style="font-size: 1.6rem;"></i></a>
                <a href="http://github.com/josh146" title="GitHub" >

<i class="fab fa-github fa-lg" style=""></i></a>
                <a href="https://linkedin.com/pub/josh-izaac/104/9bb/6a2" title="LinkedIn" >

<i class="fab fa-linkedin fa-lg" style=""></i></a>
                <a data-email="ca.azi@hsoj:otliam" data-title="Email" title="You need javascript enabled to view this email" class="email">

<i class="fas fa-envelope fa-lg" style=""></i></a>
                <a href="/feeds/rss.xml" title="Feed" >

<i class="fas fa-rss fa-lg" style=""></i></a>
               <a href="#" onClick="const ninja=document.querySelector('ninja-keys');ninja.open();"><i class="fas fa-search"></i></a>
              </div>
            </div>
          </div>
        </div>
      </nav><!-- .site-navigation -->


  </header><!-- #masthead -->
  </div>
    <div id="content" class="site-content">
      <div class="container main-content-area">
        <div class="row">
          <div class="main-content-inner col-sm-12 col-md-12">
            <div id="primary" class="content-area">
              <div id="main" class="site-main" role="main">
                <div class="article-container">


<article class="recipe-container">

    <header class="recipe-header">

        <div class="hero-image" style="background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/images/recipes/lobster-miso-tortellini.jpg');">
            <h1 class="recipe-title hero-text">Lobster and miso tortellini</h1>
        </div>

        <div class="recipe-meta-badges">
                <span>TIME</span><span>2 hours</span>
                <span>MAKES</span><span id="servings-badge" data-original="4 servings"><span class="scalable" data-base="4.0">4</span> servings</span>
                <span class="scale-label">PORTION</span>
                <div class="scale-controls">
                    <a class="scale-btn" onclick="scaleRecipe(0.5, this)">0.5x</a>
                    <a class="scale-btn active" onclick="scaleRecipe(1, this)">1x</a>
                    <a class="scale-btn" onclick="scaleRecipe(2, this)">2x</a>
                    <a class="scale-btn" onclick="scaleRecipe(3, this)">3x</a>
                </div>
        </div>
<!--         <div class="github-link">
            <a href="https://github.com/josh146/josh146.github.io/blob/source/content/recipes/lobster-miso-tortellini.md"
               target="_blank">
               VIEW SOURCE
            </a>
        </div> -->

        <div class="recipe-intro">
            <p>This recipe is another attempt to recreate a winning recipe from MasterChef Australia (after the <a href="/recipes/brioche-doughnuts-with-orange-curd-and-latte-ice-cream/" class="component-link">Brioche doughnuts with orange curd and latte ice cream</a> attempt).</p>
<p>This recipe is from Amira Elshafei, and it took me a while to perfect it as there is an unfortunate series of typos on the <a href="https://10.com.au/masterchef/recipes/lobster-stuffed-tortellini-with-lobster-miso-bisque/r200505vjtiw">MasterChef Australia official recipe</a> — in particular, there is a glitch in the miso bisque ingredients list, with the ingredient amounts accidentally shifted, showing the quantity for the ingredient <em>below</em>.</p>
<p>I didn’t realize this the first time making this (and vaguely wondered what 1 clove of mushrooms meant), and ended up adding 120g of miso to the broth! While incredibly salty, it was still delicious enough for me to tackle this again with the corrected amounts.</p>

        </div>
    </header>


    <div class="recipe-grid">
        <section class="recipe-ingredients">
            <h2>INGREDIENTS</h2>
            
<h3>Fresh pasta</h3>

<ul>
<li><span class="scalable" data-base="200.0">200</span>g <span class="scalable" data-base="0.0">00</span> flour</li>
<li><span class="scalable" data-base="200.0">200</span>g semolina flour</li>
<li><span class="scalable" data-base="4.0">4</span> eggs</li>
</ul>

<h3>Shiitake salt</h3>
<ul>
<li><span class="scalable" data-base="12.0">12</span> <span class="paren">(<span class="scalable" data-base="120.0">120</span>g)</span> shiitake mushrooms</li>
<li><span class="scalable" data-base="0.25">1/4</span> tsp fine salt</li>
</ul>
<h3>Lobster filling</h3>
<ul>
<li><span class="scalable" data-base="240.0">240</span>g lobster meat <span class="paren">(approx. from <span class="scalable" data-base="1.0">1</span> large or <span class="scalable" data-base="3.0">3</span> small tails; reserve shells for bisque)</span></li>
<li><span class="scalable" data-base="6.0">6</span> fresh shiitake mushrooms <span class="paren">(finely diced)</span></li>
<li><span class="scalable" data-base="2.0">2</span> tbsp yellow zucchini <span class="paren">(finely diced)</span></li>
<li><span class="scalable" data-base="1.0">1</span> clove garlic <span class="paren">(grated)</span></li>
<li><span class="scalable" data-base="1.0">1</span> tbsp butter</li>
<li><span class="scalable" data-base="0.5">1/2</span> tsp salt</li>
<li><span class="scalable" data-base="0.5">1/2</span> tsp ground black pepper</li>
<li><span class="scalable" data-base="1.0">1</span> egg <span class="paren">(whisked)</span></li>
</ul>
<h3>Lobster and miso bisque</h3>
<ul>
<li>Reserved lobster shells <span class="paren">(chopped)</span></li>
<li><span class="scalable" data-base="1.0">1</span> tbsp brown rice miso</li>
<li><span class="scalable" data-base="6.0">6</span> fresh shiitake mushrooms <span class="paren">(halved)</span></li>
<li><span class="scalable" data-base="1.0">1</span> clove garlic, crushed</li>
<li><span class="scalable" data-base="1.0">1</span> tbsp olive oil</li>
<li><span class="scalable" data-base="1.0">1</span> tsp white sugar</li>
<li><span class="scalable" data-base="500.0">500</span>ml water <span class="paren">(enough to cover shells)</span></li>
<li><span class="scalable" data-base="2.0">2</span> tbsp <span class="paren">(<span class="scalable" data-base="30.0">30</span>ml)</span> pure cream</li>
<li>½ tbsp <span class="paren">(<span class="scalable" data-base="10.0">10</span>g)</span> unsalted butter</li>
<li>Salt and pepper to taste</li>
</ul>
<h3>Buttered yellow zucchini</h3>
<ul>
<li><span class="scalable" data-base="400.0">400</span>g yellow zucchini, sliced into <span class="scalable" data-base="1.0">1</span>cm rounds</li>
<li><span class="scalable" data-base="25.0">25</span>g unsalted butter</li>
<li><span class="scalable" data-base="1.0">1</span> tsp olive oil</li>
<li>Small fresh basil leaves, to garnish</li>
</ul>
<h3>Garlic and chive oil</h3>
<ul>
<li><span class="scalable" data-base="250.0">250</span>ml olive oil</li>
<li><span class="scalable" data-base="1.0">1</span> bunch fresh chives <span class="paren">(roughly chopped)</span></li>
<li><span class="scalable" data-base="1.0">1</span> clove garlic <span class="paren">(thinly sliced)</span></li>
</ul>

        </section>

        <section class="recipe-method">
            <h2>STEPS</h2>
            
<h3>Pasta dough</h3>
<ol>
<li>Place the flour and eggs in the bowl of a stand mixer fitted with a dough hook. Mix until the ingredients come together. If the dough is dry, add water one tablespoon at at time. Knead until the dough is smooth and elastic, and then wrap tightly in cling film and rest for at least 30 minutes.</li>
</ol>
<h3>Shiitake salt</h3>
<ol>
<li>
<p>Preheat the oven to 120ºC. Thinly slice the shiitake mushrooms and place them in a single layer
on a baking tray lined with baking paper.</p>
</li>
<li>
<p>Bake for 45 minutes or until dried and crisp (but not burnt). Cool completely, then blitz in a
spice grinder to a fine powder. Mix with 1/4 tsp salt, and set aside.</p>
</li>
</ol>
<h3>Garlic and chive oil</h3>
<ol>
<li>
<p>Place the oil and garlic in a small saucepan over low heat. Heat until the garlic just begins to turn a pale golden color (do not brown it, or it will taste bitter). Remove from heat and let it cool for 5 minutes.</p>
</li>
<li>
<p>Place the oil (discarding the garlic slices) and the fresh chives into a high-speed blender. Blitz on high for 1–2 minutes until the oil is a vibrant, deep green.</p>
</li>
<li>
<p>Strain through a coffee filter or a fine-mesh sieve lined with muslin cloth.</p>
</li>
</ol>
<h3>Lobster filling</h3>
<ol>
<li>
<p>Chop the lobster meat into small 1 cm cubes, keeping the shells for the bisque.</p>
</li>
<li>
<p>Heat a frying pan over medium heat. Add the butter, and once foaming, add the diced mushrooms,
diced zucchini, garlic, salt, and pepper. Cook for 3 minutes. Add the lobster meat and cook for 1–2
minutes until just cooked through. Transfer to a plate to cool to room temperature.</p>
</li>
<li>
<p>Once cool, drain any excess liquid from the mixture so the pasta doesn’t get soggy. Stir in half
of the whisked egg to bind the mixture.</p>
</li>
</ol>
<h3>Lobster and miso bisque</h3>
<ol>
<li>
<p>Heat olive oil in a deep frying pan or pot over medium heat. Add the lobster shells and garlic;
cook until the shells turn bright red. Add the halved mushrooms and fry until golden (approx. 2
minutes). Add the miso paste and sugar; fry briefly until the miso softens.</p>
</li>
<li>
<p>Add the water until the shells are just covered, and bring to a boil. Reduce heat to low, cover,
and simmer for 15 minutes to infuse the flavors.</p>
</li>
<li>
<p>Strain the liquid through a fine sieve into a clean saucepan (discard solids). Add the cream and
butter to the strained bisque, whisk to combine, and season with salt and pepper. Keep warm.</p>
</li>
</ol>
<h3>Assemble the tortellini</h3>
<ol>
<li>
<p>Divide the rested dough into 4 portions (keep covered while working). Roll one portion through a
pasta machine until it is roughly <strong>1–2mm thick</strong>.</p>
</li>
<li>
<p>Use a 10cm round cutter to cut out circles (aim for 8 per sheet). Brush the edge of each
circle with the remaining whisked egg, and place a heaped teaspoon of filling in the center. Fold
over to create a half-moon, pressing edges to seal tightly (ensure no air is trapped). Bring the
two corners together around your finger and pinch to form the tortellini shape.</p>
<p><img alt="img" src="/images/recipes/lobster-miso-tortellini2.jpg"/></p>
</li>
</ol>
<h3>Cook and serve</h3>
<ol>
<li>
<p><strong>For the zucchini:</strong> In a pan, heat the butter and olive oil. Add the zucchini rounds and cook until tender and slightly golden. Season with salt.</p>
</li>
<li>
<p><strong>For the pasta:</strong> Bring a large pot of salted water to a boil. Cook the tortellini for about 3 minutes (until they float and are al dente). Drain gently.</p>
</li>
<li>
<p><strong>To plate:</strong> Place the buttered zucchini rounds in the bowl. Top with the tortellini. Pour the warm miso bisque over the pasta. Garnish with fresh basil, drops of the garlic and chive oil, and a dusting of the Shiitake Salt.</p>
</li>
</ol>

        </section>
    </div>

    <div class="recipe-notes">
        <h2>NOTES</h2>
        
<ul>
<li>
<p>Don’t overcook the lobster filling. It will cook again inside the pasta, so remove it from the
  heat as soon as it turns opaque in the pan.</p>
</li>
<li>
<p>Different brands of brown rice miso vary in saltiness. Taste your bisque before adding the final seasoning.</p>
</li>
</ul><script charset="utf-8" src="//platform.twitter.com/widgets.js"></script>
        

        <p>
            This page contains the following recipe components:
            <a href='/recipes/fresh-pasta/'>Fresh pasta</a><!--<a href="https://github.com/josh146/josh146.github.io/blob/source/content/recipes/fresh-pasta.md"target="_blank" class="github-link">(source)</a>-->.
        </p>
    </div>

    <div class="related">
        <h2>Related</h2>
        <div id="recipe-gallery" class="recipe-gallery">
            <div class="recipe-card">
                <a href="/recipes/miso-cod/">
                    <div class="card-image-wrapper">
                        <img src="/images/recipes/miso-cod.jpg" alt="Miso cod">
                    </div>

                    <div class="card-details">
                        <h3>Miso cod</h3>
                    </div>
                </a>
            </div>
            <div class="recipe-card">
                <a href="/recipes/miso-soup/">
                    <div class="card-image-wrapper">
                        <img src="/images/recipes/miso-soup.jpg" alt="Miso soup">
                    </div>

                    <div class="card-details">
                        <h3>Miso soup</h3>
                    </div>
                </a>
            </div>
            <div class="recipe-card">
                <a href="/recipes/cacio-e-pepe/">
                    <div class="card-image-wrapper">
                        <img src="/images/recipes/cacio-e-pepe.jpg" alt="Cacio e pepe">
                    </div>

                    <div class="card-details">
                        <h3>Cacio e pepe</h3>
                    </div>
                </a>
            </div>
        </div>
    </div>

</article>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const ingredientContainer = document.querySelector('.recipe-ingredients');

    if (ingredientContainer) {
        ingredientContainer.addEventListener('click', function(e) {
            const li = e.target.closest('li');

            // If we didn't click inside an li, or we clicked the container padding, ignore.
            if (!li) return;

            // check if the user clicked an interactive element
            if (e.target.closest('a')) {
                return;
            }

            li.classList.toggle('done');
        });
    }
});
</script>

<script>
function scaleRecipe(multiplier, btnElement) {
    document.querySelectorAll('.scale-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    btnElement.classList.add('active');

    document.querySelectorAll('.scalable').forEach(el => {
        const baseVal = parseFloat(el.dataset.base);
        if (!isNaN(baseVal)) {
            const newVal = baseVal * multiplier;

            // Remove trailing zeros (e.g. 2.50 -> 2.5)
            // parseFloat(num.toFixed(2)) handles rounding to 2 decimal places
            // and stripping unnecessary zeros automatically.
            el.innerText = parseFloat(newVal.toFixed(2));
        }
    });


    // update Servings Badge
    const servBadge = document.getElementById('servings-badge');
    servBadge.querySelectorAll('.scalable').forEach(el => {
        const baseVal = parseFloat(el.dataset.base);
        if (!isNaN(baseVal)) {
            const newVal = baseVal * multiplier;

            // Remove trailing zeros (e.g. 2.50 -> 2.5)
            // parseFloat(num.toFixed(2)) handles rounding to 2 decimal places
            // and stripping unnecessary zeros automatically.
            el.innerText = parseFloat(newVal.toFixed(2));
        }

    });
}
</script>

<script>
document.querySelectorAll('.recipe-method li').forEach(li => {
    li.addEventListener('click', function() {
        const parent = this.parentNode;

        // if clicking the already highlighted item, turn off focus mode
        if (this.classList.contains('highlighted')) {
            this.classList.remove('highlighted');
            parent.classList.remove('focus-active');
        } else {
            // remove highlight from others
            parent.querySelectorAll('li').forEach(el => el.classList.remove('highlighted'));

            // highlight this one
            this.classList.add('highlighted');
            parent.classList.add('focus-active');
        }
    });
});
</script>


<script>
// Add hover preview for component links
document.querySelectorAll('.component-link').forEach(link => {
    const isDesktop = window.matchMedia("(pointer: fine)").matches;

    if (isDesktop) {
        link.addEventListener('mouseenter', async function() {
            // Create tooltip if it doesn't exist
            let tooltip = document.getElementById('recipe-preview-tooltip');
            if (!tooltip) {
                tooltip = document.createElement('div');
                tooltip.id = 'recipe-preview-tooltip';
                document.body.appendChild(tooltip);
            }

            // Position it
            const rect = this.getBoundingClientRect();
            tooltip.style.left = `${rect.left}px`;
            tooltip.style.top = `${rect.bottom + 5}px`;
            tooltip.style.display = 'block';
            tooltip.innerHTML = 'Loading...';

            // Fetch the linked page
            try {
                const response = await fetch(this.href);
                const text = await response.text();

                // Parse the response to grab just the ingredients list
                const parser = new DOMParser();
                const doc = parser.parseFromString(text, 'text/html');

                // Assuming your ingredients are in a container with class 'recipe-ingredients'
                const ingredients = doc.querySelector('.recipe-ingredients ul').innerHTML;
                const title = doc.querySelector('h1').innerText;
                const imageURL = extractBackgroundUrl(doc, '.hero-image');

                tooltip.innerHTML = `<strong>${title}</strong><img src=${imageURL} />`;
                // tooltip.innerHTML = `<strong>${title}</strong><img src=${imageURL} /><ul>${ingredients}</ul>`;
            } catch (e) {
                tooltip.style.display = 'none';
                console.log('Error loading preview.');
            }
        });

        link.addEventListener('mouseleave', () => {
            const tooltip = document.getElementById('recipe-preview-tooltip');
            if (tooltip) tooltip.style.display = 'none';
        });
    } else {
        console.log("Not a fine pointer device, 'mouseenter' event listener not attached.");
    }
});

function extractBackgroundUrl(doc, el) {
    const element = doc.querySelector(el);
    const backgroundImage = element.style.backgroundImage;
    const url = backgroundImage.slice(61, -1).replace(/['"]/g, "");
    return url;
}
</script>

<script>
// Blueprint recipes
document.addEventListener('DOMContentLoaded', () => {
    const yamlBlock = document.getElementById('variation-yaml');
    if (!yamlBlock) return;

    const rawText = yamlBlock.innerText;
    const variations = {};

    // Split by the separator "---" to get each theme block
    const blocks = rawText.split('---');

    blocks.forEach(block => {
        if (!block.trim()) return; // Skip empty blocks

        const currentThemeData = {};
        let themeName = null;

        // Split by lines
        const lines = block.trim().split('\n');

        lines.forEach(line => {
            // Find the first colon to separate Key and Value
            const separatorIndex = line.indexOf(':');
            if (separatorIndex === -1) return; // Skip invalid lines

            const key = line.substring(0, separatorIndex).trim();
            const value = line.substring(separatorIndex + 1).trim();

            if (key === 'Theme') {
                themeName = value;
            } else {
                currentThemeData[key] = value;
            }
        });

        if (themeName) {
            variations[themeName] = currentThemeData;
        }
    });

    // build the UI Controls
    const controlContainer = document.getElementById('variation-controls');
    controlContainer.innerHTML = '<span class="vibe-label">Choose your Vibe</span>';

    const btnGroup = document.createElement('div');
    btnGroup.className = 'vibe-buttons';

    // create a "Blueprint" (Reset) button
    const resetBtn = document.createElement('button');
    resetBtn.innerText = 'Blueprint';
    resetBtn.className = 'vibe-btn active';
    resetBtn.id = 'Blueprint';
    resetBtn.onclick = () => applyVariation('Blueprint', resetBtn);
    btnGroup.appendChild(resetBtn);

    // create buttons for each theme
    Object.keys(variations).forEach(theme => {
        const btn = document.createElement('button');
        btn.innerText = theme;
        btn.className = 'vibe-btn';
        btn.id = theme;
        btn.onclick = () => applyVariation(theme, btn);
        btnGroup.appendChild(btn);
    });

    controlContainer.appendChild(btnGroup);

    let blueprintsInitialized = false;

    function applyVariation(themeName, clickedBtn) {
        const url = new URL(window.location);
        url.searchParams.set('vibe', themeName);
        window.history.replaceState({}, '', url);

        // update Buttons Visual State
        document.querySelectorAll('.vibe-btn').forEach(b => b.classList.remove('active'));
        if (clickedBtn) clickedBtn.classList.add('active');

        // Find placeholders in the DOM
        if (!blueprintsInitialized) {
            const contentArea = document.querySelector('.recipe-container');
            if (contentArea) {
                const walker = document.createTreeWalker(contentArea, NodeFilter.SHOW_TEXT, null, false);
                let node;
                // split the string so Pelican/Jinja doesn't try to parse it
                const startBracket = '{' + '{';

                while(node = walker.nextNode()) {
                    if (node.nodeValue.includes(startBracket)) {
                        const parent = node.parentNode;
                        // Save original text if not already saved
                        if (!parent.hasAttribute('data-blueprint')) {
                            parent.setAttribute('data-blueprint', parent.innerHTML);
                            parent.classList.add('dynamic-slot');
                        }
                    }
                }
                blueprintsInitialized = true;
            }
        }

        // the update loop
        const slots = document.querySelectorAll('.dynamic-slot');

        slots.forEach(slot => {
            let htmlToUpdate = slot.getAttribute('data-blueprint');

            // Reset parent styling (Assume standard item first)
            if (slot.parentElement && slot.parentElement.tagName === 'LI') {
                slot.parentElement.classList.remove('is-sublist-parent');
            }

            // apply defined replacements
            if (themeName && variations[themeName]) {
                const replacements = variations[themeName];

                Object.keys(replacements).forEach(key => {
                    const regex = new RegExp('{' + '{' + key + '}' + '}', 'g');
                    let value = replacements[key];

                    // If this key exists in the current theme, replace it
                    if (value) {
                        if (key.includes('list')) {
                            // Multi-item List Logic
                            const items = value.split(';').map(item => `<li>${item.trim()}</li>`).join('');
                            value = `<ul class="dynamic-sublist">${items}</ul>`;
                        } else if (key.includes('step')) {
                            // step logic
                            value = `<ol class="dynamic-sublist"><li><strong>${value}</strong></li></ol>`;

                        } else {
                            // Standard Single Item
                            value = `<strong>${value}</strong>`;
                        }

                        htmlToUpdate = htmlToUpdate.replace(regex, value);
                    }
                });
            }

            // This handles "Blueprint Mode" AND any missing variables in specific themes
            const pillRegex = new RegExp('{' + '{([a-zA-Z0-9_]+?)}' + '}', 'g');

            htmlToUpdate = htmlToUpdate.replace(pillRegex, (match, key) => {
                const cleanName = key.replace(/_/g, ' ');

                if (key.includes('list') || key.includes('step')) {
                    return `<span class="variable-pill variable-list">${cleanName}</span>`;
                }
                return `<span class="variable-pill">${cleanName}</span>`;
            });

            // parens styling
            if (slot.closest('ul') || slot.closest('.recipe-ingredients')) {
                htmlToUpdate = htmlToUpdate.replace(/\(([^)<]+)\)(?![^<]*>)/g, '<span class="paren">($1)</span>');
                }

            // Render
            slot.innerHTML = htmlToUpdate;
            slot.classList.remove('changed');
            void slot.offsetWidth;
            slot.classList.add('changed');
        });
    }

    const urlParams = new URLSearchParams(window.location.search);
    const themeName = urlParams.get('vibe');

    if (Object.keys(variations).includes(themeName)) {
        applyVariation(themeName, document.getElementById(themeName));
    } else {
        applyVariation('Blueprint', document.querySelector('.vibe-btn.active'));
    }
});
</script>

                </div>
              </div><!-- #main -->
          </div><!-- #primary -->
        </div>
      </div><!-- close .row -->
    </div><!-- close .container -->
  </div><!-- close .site-content -->




  <div id="footer-area">
    <footer id="colophon" class="site-footer" role="contentinfo">
      <div class="site-info container">
        <div class="row">
                    <div class="copyright col-md-12">
                    This site uses the <a href="https://github.com/limbenjamin/voce">voce</a> theme by <a href="//limbenjamin.com/">Benjamin Lim</a><br />
                    &copy; 2025 <a href="../..">Josh Izaac</a> </div>
        </div>
      </div><!-- .site-info -->
      <div class="scroll-to-top" style="display: none;"><i class="fa fa-angle-up"></i></div><!-- .scroll-to-top -->
    </footer><!-- #colophon -->
  </div>


  <script type="text/javascript">
    window.addEventListener('load', function(){
      var e = document.querySelectorAll(".email");
      for (var i = 0; i < e.length; i++) {
        var email = e[i].getAttribute("data-email")
        var title = e[i].getAttribute("data-title")
        if (email){
          e[i].href = email.split("").reverse().join("");
          e[i].removeAttribute("data-email");
          e[i].removeAttribute("data-title");
          e[i].removeAttribute("class");
          if (title){
            e[i].setAttribute("title", title);
          }
          else{
            e[i].removeAttribute("title");
          }
        }
      }
    })
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const ninja = document.querySelector('ninja-keys');

        if (ninja) {
            // 1. Load your JSON index
            fetch('/search.json')
                .then(response => response.json())
                .then(data => {
                    // 2. Transform into Ninja Keys format
                    const menuItems = data.map(item => ({
                        id: item.url,
                        title: item.title,
                        section: item.type, // Groups results by 'Recipe' vs 'Page'
                        keywords: item.keywords,
                        handler: () => {
                            window.location.href = item.url;
                        }
                    }));

                    // 3. Add static actions (Optional)
                    // e.g., Dark Mode toggle, Home button
                    menuItems.push({
                        id: 'home',
                        title: 'Go to Home',
                        section: 'Navigation',
                        hotkey: 'cmd+h',
                        handler: () => { window.location.href = '/'; }
                    });

                    // 4. Give data to Ninja Keys
                    ninja.data = menuItems;
                })
                .catch(err => console.error("Failed to load search index:", err));
        }
    });
  </script>


  <ninja-keys placeholder="Search..." hideBreadcrumbs></ninja-keys>
</body>
</html>