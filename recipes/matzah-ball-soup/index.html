<!DOCTYPE html>
<html lang="en">

<head>

  <title>Matzah ball soup recipe | josh iza.ac</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Josh Izaac">
  <meta name="description" content="Growing up in Singapore as part of an Iraqi-Jewish community, matzah ball soup was not a part of my typical passover – until I moved to Perth and had passover with my Australian grandparents. This recipe is a mutant hybrid of several recipes: The soup recipe originally comes...
">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
  <link rel="manifest" href="/images/favicon/site.webmanifest">
  <link rel="mask-icon" href="/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/images/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="/images/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <!-- Facebook Meta Tags -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Matzah ball soup recipe | josh iza.ac">
  <meta property="og:url" content=" recipes/matzah-ball-soup/ ">
  <meta property="og:description" content="Growing up in Singapore as part of an Iraqi-Jewish community, matzah ball soup was not a part of my typical passover – until I moved to Perth and had passover with my Australian grandparents. This recipe is a mutant hybrid of several recipes: The soup recipe originally comes...
">
  <meta property="og:image" content="/images/recipes/matzah-ball-soup.jpg">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="../..">
  <meta property="twitter:url" content=" recipes/matzah-ball-soup/ ">
  <meta name="twitter:title" content="Matzah ball soup recipe | josh iza.ac">
  <meta name="twitter:description" content="Growing up in Singapore as part of an Iraqi-Jewish community, matzah ball soup was not a part of my typical passover – until I moved to Perth and had passover with my Australian grandparents. This recipe is a mutant hybrid of several recipes: The soup recipe originally comes...
">
  <meta name="twitter:image" content="/images/recipes/matzah-ball-soup.jpg">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="../../theme/css/font.css" type="text/css" media="all">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
  <link rel="stylesheet" href="../../theme/css/style.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../theme/css/recipe_gallery.css" type="text/css" media="all">
  <link rel="stylesheet" href="../../theme/css/pygments.css" type="text/css" media="all">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js"></script>

  <script type="module" src="https://unpkg.com/ninja-keys?module"></script>


<script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
  <script type="text/javascript" src="../../theme/js/functions.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=DM+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Syne+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <link href="http://iza.ac/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="josh iza.ac Full Atom Feed" />

      <meta name="keywords" content="keywords, pytorch, quantum, gradients, tensorflow">

    <link rel="stylesheet" href="../../theme/css/recipe.css">
    <script type="application/ld+json">
        {
          "@context": "https://schema.org/",
          "@type": "Recipe",
          "name": "Matzah ball soup",
          "image": [
            "../..//images/recipes/matzah-ball-soup.jpg"
          ],
          "author": {
            "@type": "Person",
            "name": "Josh Izaac"
          },
          "datePublished": "2025-12-19 00:00:00+08:00",
          "description": "Growing up in Singapore as part of an Iraqi-Jewish community, matzah ball soup was not a part of my typical passover – until I moved to Perth and had...",

          "totalTime": "PT3H",

          "recipeYield": "About 15-18 matzah balls, about 6 servings servings",

          "recipeIngredient": [
            "3kg chicken parts or chicken wings",
            "2 medium onions (cut in quarters)",
            "1 medium parsnip (cut into 2 inch pieces)",
            "2 stalks celery (cut into 2 inch pieces)",
            "1 unpeeled carrot (cut into 2 inch pieces)",
            "1 head of garlic (halved crosswise)",
            "1 tbsp black peppercorns",
            "4 chicken marylands (or 6-8 chicken thighs)",
            "2 stalks of celery",
            "1/2 cup melted schmaltz or vegetable oil",
            "3 matzot",
            "2-3 eggs",
            "2 tbsp parsley",
            "1/2 cup Matzah meal",
            "1 tbsp minced ginger1",
            "1 tbsp chopped dill, plus more for serving"
          ],

          "recipeInstructions": [
            {
              "@type": "HowToStep",
              "text": "Pre-heat oven to 230ºC or 220ºC fan-forced. Roast the chicken parts until golden brown, approximately 45-55 minutes.2"
            },
            {
              "@type": "HowToStep",
              "text": "Add roasted chicken as well as pan drippings to a stock pot. Add carrots, onion, garlic, parsnip, celery, and peppercorns to the pot. Cover with approximately 3L of water, and simmer for 45 minutes."
            },
            {
              "@type": "HowToStep",
              "text": "While simmering, season the chicken legs with salt."
            },
            {
              "@type": "HowToStep",
              "text": "After 45 minutes, add the seasoned chicken legs to the pot, and allow to poach at a simmer for another 45 minutes."
            },
            {
              "@type": "HowToStep",
              "text": "Strain the soup into a medium sized saucepan. Shred the chicken legs, and return to the soup. Season with salt."
            },
            {
              "@type": "HowToStep",
              "text": "(Optional) add thinly sliced carrot and simmer for 5-10 minutes until cooked."
            },
            {
              "@type": "HowToStep",
              "text": "Soak matzah with boiling water. Squeeze to remove additional water."
            },
            {
              "@type": "HowToStep",
              "text": "Heat oil, and saute onion and celery until clear and soft. Add ginger, parsley, more oil, and salt and pepper, cook for 5 minutes. Add more oil, and turn off the heat."
            },
            {
              "@type": "HowToStep",
              "text": "Add onion, celery, and dill to the softened broken matzah. Add whisked eggs and matzah meal until the consistency of a light dough (not batter). Roll into 4-5cm diameter balls and place on a plate or baking tray lined with matzah meal."
            },
            {
              "@type": "HowToStep",
              "text": "Cover with plastic and place matzah balls in the fridge for 1 hour or up to overnight."
            },
            {
              "@type": "HowToStep",
              "text": "Carefully lower matzah balls into a mixture of boiling water and chicken stock with a slotted spoon, adjusting heat as needed to maintain a low simmer. Cover pot and simmer over low heat, checking occasionally to make sure water isn’t boiling too rapidly, until balls are very puffed and light in color, 20-30 minutes. Turn off heat and let balls sit in cooking liquid until ready to serve."
            }
          ]
        }
    </script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-308113-3', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body class="home blog">
  <div>
    <header class="site-header">
      <nav class="navbar navbar-expand-lg navbar-default" role="navigation">
        <div class="container">
          <div class="row" style="width: 100%;">
            <div class="site-navigation-inner col-sm-12">
              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="social fas fa-ellipsis-v"></i>
              </button>

              <div class="collapse navbar-collapse navbar-ex1-collapse" id="navbarSupportedContent" style="float: left;">
                <ul id="menu-all-pages" class="nav navbar-nav mr-auto" style="padding: 20px;">
                  <li class="menu-item"><a href="/" >Home

<i class=" fa-lg" style=""></i></a></li>
                  <li class="menu-item"><a href="/about" >About

<i class=" fa-lg" style=""></i></a></li>
                  <li class="menu-item"><a href="/cv" >CV

<i class=" fa-lg" style=""></i></a></li>
                  <li class="menu-item"><a href="/recipes" >recipes

<i class=" fa-lg" style=""></i></a></li>
                  <li class="menu-item"><a href="/posts" >posts

<i class=" fa-lg" style=""></i></a></li>
                </ul>
              </div>
              <div class="social">
                <a href="https://scholar.google.com/citations?user=pEj09c4AAAAJ" title="Google Scholar" >

<i class="ai ai-google-scholar fa-lg" style="font-size: 1.6rem;"></i></a>
                <a href="http://github.com/josh146" title="GitHub" >

<i class="fab fa-github fa-lg" style=""></i></a>
                <a href="https://linkedin.com/pub/josh-izaac/104/9bb/6a2" title="LinkedIn" >

<i class="fab fa-linkedin fa-lg" style=""></i></a>
                <a data-email="ca.azi@hsoj:otliam" data-title="Email" title="You need javascript enabled to view this email" class="email">

<i class="fas fa-envelope fa-lg" style=""></i></a>
                <a href="/feeds/rss.xml" title="Feed" >

<i class="fas fa-rss fa-lg" style=""></i></a>
               <a href="#" onClick="const ninja=document.querySelector('ninja-keys');ninja.open();"><i class="fas fa-search"></i></a>
              </div>
            </div>
          </div>
        </div>
      </nav><!-- .site-navigation -->


  </header><!-- #masthead -->
  </div>
    <div id="content" class="site-content">
      <div class="container main-content-area">
        <div class="row">
          <div class="main-content-inner col-sm-12 col-md-12">
            <div id="primary" class="content-area">
              <div id="main" class="site-main" role="main">
                <div class="article-container">

<style>
@media (min-width: 768px) {
    .recipe-ingredients {
        position: -webkit-sticky;
        position: sticky;
        top: 20px;
        z-index: 10;
        max-height: calc(100vh - 40px);
        overflow-y: auto;
    }
    .article-container {
        overflow: unset;
    }
}
</style>

<article class="recipe-container">

    <header class="recipe-header">

        <div class="hero-image" style="background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/images/recipes/matzah-ball-soup.jpg');">
            <h1 class="recipe-title hero-text">Matzah ball soup</h1>
        </div>

        <div class="recipe-meta-badges">
                <span>TIME</span><span>3 hours</span>
                <span>MAKES</span><span id="servings-badge" data-original="About 15-18 matzah balls, about 6 servings">About <span class="scalable" data-base="15.0">15</span>-<span class="scalable" data-base="18.0">18</span> matzah balls, about <span class="scalable" data-base="6.0">6</span> servings</span>
                <span class="scale-label">PORTION</span>
                <div class="scale-controls">
                    <a class="scale-btn" onclick="scaleRecipe(0.5, this)">0.5x</a>
                    <a class="scale-btn active" onclick="scaleRecipe(1, this)">1x</a>
                    <a class="scale-btn" onclick="scaleRecipe(2, this)">2x</a>
                    <a class="scale-btn" onclick="scaleRecipe(3, this)">3x</a>
                </div>
        </div>
<!--         <div class="github-link">
            <a href="https://github.com/josh146/josh146.github.io/blob/source/content/recipes/matzah-ball-soup.md"
               target="_blank">
               VIEW SOURCE
            </a>
        </div> -->

        <div class="recipe-intro">
            <p>Growing up in Singapore as part of an Iraqi-Jewish community, matzah ball soup was not a part of my typical passover – until I moved to Perth and had passover with my Australian grandparents. This recipe is a mutant hybrid of several recipes:</p>
<ul>
<li>The soup recipe originally comes from Serious Eats (I believe), but I am unable to find the particular <span class="caps">URL</span>.</li>
<li>My grandmothers matzah ball recipe. Uniquely she used soften whole pieces of matzah, which adds a unique texture and makes the matzah balls very light. I’ve never seen other matzah ball recipes do this.</li>
<li>My mum has since modified my grandmother’s matzah ball recipe to use chicken rice ginger to add an extra umami bomb.</li>
</ul>

        </div>
    </header>


    <div class="recipe-grid">
        <section class="recipe-ingredients">
            <h2>INGREDIENTS</h2>
            
<h3>Soup</h3>
<ul>
<li><span class="scalable" data-base="3.0">3</span>kg chicken parts or chicken wings</li>
<li><span class="scalable" data-base="2.0">2</span> medium onions <span class="paren">(cut in quarters)</span></li>
<li><span class="scalable" data-base="1.0">1</span> medium parsnip <span class="paren">(cut into <span class="scalable" data-base="2.0">2</span> inch pieces)</span></li>
<li><span class="scalable" data-base="2.0">2</span> stalks celery <span class="paren">(cut into <span class="scalable" data-base="2.0">2</span> inch pieces)</span></li>
<li><span class="scalable" data-base="1.0">1</span> unpeeled carrot <span class="paren">(cut into <span class="scalable" data-base="2.0">2</span> inch pieces)</span></li>
<li><span class="scalable" data-base="1.0">1</span> head of garlic <span class="paren">(halved crosswise)</span></li>
<li><span class="scalable" data-base="1.0">1</span> tbsp black peppercorns</li>
<li><span class="scalable" data-base="4.0">4</span> chicken marylands <span class="paren">(or <span class="scalable" data-base="6.0">6</span>-<span class="scalable" data-base="8.0">8</span> chicken thighs)</span></li>
</ul>
<h3>Matzah balls</h3>
<ul>
<li><span class="scalable" data-base="2.0">2</span> stalks of celery</li>
<li><span class="scalable" data-base="0.5">1/2</span> cup melted schmaltz or vegetable oil</li>
<li><span class="scalable" data-base="3.0">3</span> matzot</li>
<li><span class="scalable" data-base="2.0">2</span>-<span class="scalable" data-base="3.0">3</span> eggs</li>
<li><span class="scalable" data-base="2.0">2</span> tbsp parsley</li>
<li><span class="scalable" data-base="0.5">1/2</span> cup Matzah meal</li>
<li><span class="scalable" data-base="1.0">1</span> tbsp minced ginger<sup id="sf-matzah-ball-soup-1-back"><a class="simple-footnote" href="#sf-matzah-ball-soup-1" title="My mum likes to substitute this forchicken rice ginger, specifically theSinglong Chicken Ginger sauce. It adds a delicious ginger-garlic-lemongrass profile, as well as an umami boost.">1</a></sup></li>
<li><span class="scalable" data-base="1.0">1</span> tbsp chopped dill, plus more for serving </li>
</ul>

        </section>

        <section class="recipe-method">
            <h2>STEPS</h2>
            
<h3>Soup</h3>
<ol>
<li>
<p>Pre-heat oven to 230ºC or 220ºC fan-forced. Roast the chicken parts until golden brown, approximately 45-55 minutes.<sup id="sf-matzah-ball-soup-2-back"><a class="simple-footnote" href="#sf-matzah-ball-soup-2" title="The step of roasting the chicken bones can be skipped. This will lead to a paler, less ‘roasty’ chicken soup.">2</a></sup></p>
</li>
<li>
<p>Add roasted chicken as well as pan drippings to a stock pot. Add carrots, onion, garlic, parsnip, celery, and peppercorns to the pot. Cover with approximately 3L of water, and simmer for 45 minutes.</p>
</li>
<li>
<p>While simmering, season the chicken legs with salt.</p>
</li>
<li>
<p>After 45 minutes, add the seasoned chicken legs to the pot, and allow to poach at a simmer for another 45 minutes.</p>
</li>
<li>
<p>Strain the soup into a medium sized saucepan. Shred the chicken legs, and return to the soup. Season with salt.</p>
</li>
<li>
<p>(Optional) add thinly sliced carrot and simmer for 5-10 minutes until cooked.</p>
</li>
</ol>
<h3>Matzah balls</h3>
<ol>
<li>
<p>Soak matzah with boiling water. Squeeze to remove additional water.</p>
</li>
<li>
<p>Heat oil, and saute onion and celery until clear and soft. Add ginger, parsley, more oil, and salt and pepper, cook for 5 minutes. Add more oil, and turn off the heat.</p>
</li>
<li>
<p>Add onion, celery, and dill to the softened broken matzah. Add whisked eggs and matzah meal until the consistency of a light dough (not batter). Roll into 4-5cm diameter balls and place on a plate or baking tray lined with matzah meal.</p>
</li>
<li>
<p>Cover with plastic and place matzah balls in the fridge for 1 hour or up to overnight.</p>
</li>
<li>
<p>Carefully lower matzah balls into a mixture of boiling water and chicken stock with a slotted spoon, adjusting heat as needed to maintain a low simmer. Cover pot and simmer over low heat, checking occasionally to make sure water isn’t boiling too rapidly, until balls are very puffed and light in color, 20-30 minutes. Turn off heat and let balls sit in cooking liquid until ready to serve.</p>
</li>
</ol>
<h3>To serve</h3>
<p>Using a slotted spoon, transfer 2-3 matzah balls to a bowl of soup. Season with pepper and chopped dill.</p>

        </section>
    </div>

    <div class="recipe-notes">
        <h2>NOTES</h2>
        <script charset="utf-8" src="//platform.twitter.com/widgets.js"></script>
        <ol class="simple-footnotes"><li id="sf-matzah-ball-soup-1"><footnote>My mum likes to substitute this for <a href="hainanese-chicken-rice">chicken rice ginger</a>, specifically the <a href="https://www.singlong.com/product/chicken-ginger-sauce/">Singlong Chicken Ginger sauce</a>. It adds a delicious ginger-garlic-lemongrass profile, as well as an umami boost.</footnote> <a class="simple-footnote-back" href="#sf-matzah-ball-soup-1-back">↩︎</a></li><li id="sf-matzah-ball-soup-2"><footnote>The step of roasting the chicken bones can be skipped. This will lead to a paler, less ‘roasty’ chicken soup.</footnote> <a class="simple-footnote-back" href="#sf-matzah-ball-soup-2-back">↩︎</a></li></ol>

    </div>

    <div class="related">
        <h2>Related</h2>
        <div id="recipe-gallery" class="recipe-gallery">
            <div class="recipe-card">
                <a href="/recipes/miso-soup/">
                    <div class="card-image-wrapper">
                        <img src="/images/recipes/miso-soup.jpg" alt="Miso soup">
                    </div>

                    <div class="card-details">
                        <h3>Miso soup</h3>
                    </div>
                </a>
            </div>
            <div class="recipe-card">
                <a href="/recipes/potato-leek-and-chickpea-soup/">
                    <div class="card-image-wrapper">
                        <img src="/images/recipes/potato-leek-soup.jpg" alt="Potato, leek, and chickpea soup">
                    </div>

                    <div class="card-details">
                        <h3>Potato, leek, and chickpea soup</h3>
                    </div>
                </a>
            </div>
        </div>
    </div>

</article>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const ingredientContainer = document.querySelector('.recipe-ingredients');

    if (ingredientContainer) {
        ingredientContainer.addEventListener('click', function(e) {
            const li = e.target.closest('li');

            // If we didn't click inside an li, or we clicked the container padding, ignore.
            if (!li) return;

            // check if the user clicked an interactive element
            if (e.target.closest('a')) {
                return;
            }

            li.classList.toggle('done');
        });
    }
});
</script>

<script>
function scaleRecipe(multiplier, btnElement) {
    document.querySelectorAll('.scale-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    btnElement.classList.add('active');

    document.querySelectorAll('.scalable').forEach(el => {
        const baseVal = parseFloat(el.dataset.base);
        if (!isNaN(baseVal)) {
            const newVal = baseVal * multiplier;

            // Remove trailing zeros (e.g. 2.50 -> 2.5)
            // parseFloat(num.toFixed(2)) handles rounding to 2 decimal places
            // and stripping unnecessary zeros automatically.
            el.innerText = parseFloat(newVal.toFixed(2));
        }
    });


    // update Servings Badge
    const servBadge = document.getElementById('servings-badge');
    servBadge.querySelectorAll('.scalable').forEach(el => {
        const baseVal = parseFloat(el.dataset.base);
        if (!isNaN(baseVal)) {
            const newVal = baseVal * multiplier;

            // Remove trailing zeros (e.g. 2.50 -> 2.5)
            // parseFloat(num.toFixed(2)) handles rounding to 2 decimal places
            // and stripping unnecessary zeros automatically.
            el.innerText = parseFloat(newVal.toFixed(2));
        }

    });
}
</script>

<script>
document.querySelectorAll('.recipe-method li').forEach(li => {
    li.addEventListener('click', function() {
        const parent = this.parentNode;

        // if clicking the already highlighted item, turn off focus mode
        if (this.classList.contains('highlighted')) {
            this.classList.remove('highlighted');
            parent.classList.remove('focus-active');
        } else {
            // remove highlight from others
            parent.querySelectorAll('li').forEach(el => el.classList.remove('highlighted'));

            // highlight this one
            this.classList.add('highlighted');
            parent.classList.add('focus-active');
        }
    });
});
</script>


<script>
// Add hover preview for component links
document.querySelectorAll('.component-link').forEach(link => {
    const isDesktop = window.matchMedia("(pointer: fine)").matches;

    if (isDesktop) {
        link.addEventListener('mouseenter', async function() {
            // Create tooltip if it doesn't exist
            let tooltip = document.getElementById('recipe-preview-tooltip');
            if (!tooltip) {
                tooltip = document.createElement('div');
                tooltip.id = 'recipe-preview-tooltip';
                document.body.appendChild(tooltip);
            }

            // Position it
            const rect = this.getBoundingClientRect();
            tooltip.style.left = `${rect.left}px`;
            tooltip.style.top = `${rect.bottom + 5}px`;
            tooltip.style.display = 'block';
            tooltip.innerHTML = 'Loading...';

            // Fetch the linked page
            try {
                const response = await fetch(this.href);
                const text = await response.text();

                // Parse the response to grab just the ingredients list
                const parser = new DOMParser();
                const doc = parser.parseFromString(text, 'text/html');

                // Assuming your ingredients are in a container with class 'recipe-ingredients'
                const ingredients = doc.querySelector('.recipe-ingredients ul').innerHTML;
                const title = doc.querySelector('h1').innerText;
                const imageURL = extractBackgroundUrl(doc, '.hero-image');

                tooltip.innerHTML = `<strong>${title}</strong><img src=${imageURL} />`;
                // tooltip.innerHTML = `<strong>${title}</strong><img src=${imageURL} /><ul>${ingredients}</ul>`;
            } catch (e) {
                tooltip.style.display = 'none';
                console.log('Error loading preview.');
            }
        });

        link.addEventListener('mouseleave', () => {
            const tooltip = document.getElementById('recipe-preview-tooltip');
            if (tooltip) tooltip.style.display = 'none';
        });
    } else {
        console.log("Not a fine pointer device, 'mouseenter' event listener not attached.");
    }
});

function extractBackgroundUrl(doc, el) {
    const element = doc.querySelector(el);
    const backgroundImage = element.style.backgroundImage;
    const url = backgroundImage.slice(61, -1).replace(/['"]/g, "");
    return url;
}
</script>

<script>
// Blueprint recipes
document.addEventListener('DOMContentLoaded', () => {
    const yamlBlock = document.getElementById('variation-yaml');
    if (!yamlBlock) return;

    const rawText = yamlBlock.innerText;
    const variations = {};

    // Split by the separator "---" to get each theme block
    const blocks = rawText.split('---');

    blocks.forEach(block => {
        if (!block.trim()) return; // Skip empty blocks

        const currentThemeData = {};
        let themeName = null;

        // Split by lines
        const lines = block.trim().split('\n');

        lines.forEach(line => {
            // Find the first colon to separate Key and Value
            const separatorIndex = line.indexOf(':');
            if (separatorIndex === -1) return; // Skip invalid lines

            const key = line.substring(0, separatorIndex).trim();
            const value = line.substring(separatorIndex + 1).trim();

            if (key === 'Theme') {
                themeName = value;
            } else {
                currentThemeData[key] = value;
            }
        });

        if (themeName) {
            variations[themeName] = currentThemeData;
        }
    });

    // build the UI Controls
    const controlContainer = document.getElementById('variation-controls');
    controlContainer.innerHTML = '<span class="vibe-label">Choose your Vibe</span>';

    const btnGroup = document.createElement('div');
    btnGroup.className = 'vibe-buttons';

    // create a "Blueprint" (Reset) button
    const resetBtn = document.createElement('button');
    resetBtn.innerText = 'Blueprint';
    resetBtn.className = 'vibe-btn active';
    resetBtn.id = 'Blueprint';
    resetBtn.onclick = () => applyVariation('Blueprint', resetBtn);
    btnGroup.appendChild(resetBtn);

    // create buttons for each theme
    Object.keys(variations).forEach(theme => {
        const btn = document.createElement('button');
        btn.innerText = theme;
        btn.className = 'vibe-btn';
        btn.id = theme;
        btn.onclick = () => applyVariation(theme, btn);
        btnGroup.appendChild(btn);
    });

    controlContainer.appendChild(btnGroup);

    let blueprintsInitialized = false;

    function applyVariation(themeName, clickedBtn) {
        const url = new URL(window.location);
        url.searchParams.set('vibe', themeName);
        window.history.replaceState({}, '', url);

        // update Buttons Visual State
        document.querySelectorAll('.vibe-btn').forEach(b => b.classList.remove('active'));
        if (clickedBtn) clickedBtn.classList.add('active');

        // Find placeholders in the DOM
        if (!blueprintsInitialized) {
            const contentArea = document.querySelector('.recipe-container');
            if (contentArea) {
                const walker = document.createTreeWalker(contentArea, NodeFilter.SHOW_TEXT, null, false);
                let node;
                // split the string so Pelican/Jinja doesn't try to parse it
                const startBracket = '{' + '{';

                while(node = walker.nextNode()) {
                    if (node.nodeValue.includes(startBracket)) {
                        const parent = node.parentNode;
                        // Save original text if not already saved
                        if (!parent.hasAttribute('data-blueprint')) {
                            parent.setAttribute('data-blueprint', parent.innerHTML);
                            parent.classList.add('dynamic-slot');
                        }
                    }
                }
                blueprintsInitialized = true;
            }
        }

        // the update loop
        const slots = document.querySelectorAll('.dynamic-slot');

        slots.forEach(slot => {
            let htmlToUpdate = slot.getAttribute('data-blueprint');

            // Reset parent styling (Assume standard item first)
            if (slot.parentElement && slot.parentElement.tagName === 'LI') {
                slot.parentElement.classList.remove('is-sublist-parent');
            }

            // apply defined replacements
            if (themeName && variations[themeName]) {
                const replacements = variations[themeName];

                Object.keys(replacements).forEach(key => {
                    const regex = new RegExp('{' + '{' + key + '}' + '}', 'g');
                    let value = replacements[key];

                    // If this key exists in the current theme, replace it
                    if (value) {
                        if (key.includes('list')) {
                            // Multi-item List Logic
                            const items = value.split(';').map(item => `<li>${item.trim()}</li>`).join('');
                            value = `<ul class="dynamic-sublist">${items}</ul>`;
                        } else if (key.includes('step')) {
                            // step logic
                            value = `<ol class="dynamic-sublist"><li><strong>${value}</strong></li></ol>`;

                        } else {
                            // Standard Single Item
                            value = `<strong>${value}</strong>`;
                        }

                        htmlToUpdate = htmlToUpdate.replace(regex, value);
                    }
                });
            }

            // This handles "Blueprint Mode" AND any missing variables in specific themes
            const pillRegex = new RegExp('{' + '{([a-zA-Z0-9_]+?)}' + '}', 'g');

            htmlToUpdate = htmlToUpdate.replace(pillRegex, (match, key) => {
                const cleanName = key.replace(/_/g, ' ');

                if (key.includes('list') || key.includes('step')) {
                    return `<span class="variable-pill variable-list">${cleanName}</span>`;
                }
                return `<span class="variable-pill">${cleanName}</span>`;
            });

            // parens styling
            if (slot.closest('ul') || slot.closest('.recipe-ingredients')) {
                htmlToUpdate = htmlToUpdate.replace(/\(([^)<]+)\)(?![^<]*>)/g, '<span class="paren">($1)</span>');
                }

            // Render
            slot.innerHTML = htmlToUpdate;
            slot.classList.remove('changed');
            void slot.offsetWidth;
            slot.classList.add('changed');
        });
    }

    const urlParams = new URLSearchParams(window.location.search);
    const themeName = urlParams.get('vibe');

    if (Object.keys(variations).includes(themeName)) {
        applyVariation(themeName, document.getElementById(themeName));
    } else {
        applyVariation('Blueprint', document.querySelector('.vibe-btn.active'));
    }
});
</script>

                </div>
              </div><!-- #main -->
          </div><!-- #primary -->
        </div>
      </div><!-- close .row -->
    </div><!-- close .container -->
  </div><!-- close .site-content -->




  <div id="footer-area">
    <footer id="colophon" class="site-footer" role="contentinfo">
      <div class="site-info container">
        <div class="row">
                    <div class="copyright col-md-12">
                    This site uses the <a href="https://github.com/limbenjamin/voce">voce</a> theme by <a href="//limbenjamin.com/">Benjamin Lim</a><br />
                    &copy; 2025 <a href="../..">Josh Izaac</a> </div>
        </div>
      </div><!-- .site-info -->
      <div class="scroll-to-top" style="display: none;"><i class="fa fa-angle-up"></i></div><!-- .scroll-to-top -->
    </footer><!-- #colophon -->
  </div>


  <script type="text/javascript">
    window.addEventListener('load', function(){
      var e = document.querySelectorAll(".email");
      for (var i = 0; i < e.length; i++) {
        var email = e[i].getAttribute("data-email")
        var title = e[i].getAttribute("data-title")
        if (email){
          e[i].href = email.split("").reverse().join("");
          e[i].removeAttribute("data-email");
          e[i].removeAttribute("data-title");
          e[i].removeAttribute("class");
          if (title){
            e[i].setAttribute("title", title);
          }
          else{
            e[i].removeAttribute("title");
          }
        }
      }
    })
  </script>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        const ninja = document.querySelector('ninja-keys');

        if (ninja) {
            // 1. Load your JSON index
            fetch('/search.json')
                .then(response => response.json())
                .then(data => {
                    // 2. Transform into Ninja Keys format
                    const menuItems = data.map(item => ({
                        id: item.url,
                        title: item.title,
                        section: item.type, // Groups results by 'Recipe' vs 'Page'
                        keywords: item.keywords,
                        handler: () => {
                            window.location.href = item.url;
                        }
                    }));

                    // 3. Add static actions (Optional)
                    // e.g., Dark Mode toggle, Home button
                    menuItems.push({
                        id: 'home',
                        title: 'Go to Home',
                        section: 'Navigation',
                        hotkey: 'cmd+h',
                        handler: () => { window.location.href = '/'; }
                    });

                    // 4. Give data to Ninja Keys
                    ninja.data = menuItems;
                })
                .catch(err => console.error("Failed to load search index:", err));
        }
    });
  </script>


  <ninja-keys placeholder="Search..." hideBreadcrumbs></ninja-keys>
</body>
</html>